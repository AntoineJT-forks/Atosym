<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_181) on Mon Jun 24 14:18:05 CEST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<title>CalculationCache</title>
<meta name="date" content="2019-06-24">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CalculationCache";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/akami/mask/alteration/CalculationAlteration.html" title="interface in net.akami.mask.alteration"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/akami/mask/alteration/CalculationCanceller.html" title="interface in net.akami.mask.alteration"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/akami/mask/alteration/CalculationCache.html" target="_top">Frames</a></li>
<li><a href="CalculationCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.akami.mask.alteration</div>
<h2 title="Class CalculationCache" class="title">Class CalculationCache</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>net.akami.mask.alteration.CalculationCache</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Comparable&lt;<a href="../../../../net/akami/mask/alteration/CalculationAlteration.html" title="interface in net.akami.mask.alteration">CalculationAlteration</a>&gt;, <a href="../../../../net/akami/mask/alteration/CalculationAlteration.html" title="interface in net.akami.mask.alteration">CalculationAlteration</a>&lt;<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>&gt;, <a href="../../../../net/akami/mask/alteration/CalculationCanceller.html" title="interface in net.akami.mask.alteration">CalculationCanceller</a>&lt;<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">CalculationCache</span>
extends java.lang.Object
implements <a href="../../../../net/akami/mask/alteration/CalculationCanceller.html" title="interface in net.akami.mask.alteration">CalculationCanceller</a>&lt;<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>&gt;</pre>
<div class="block">A <a href="../../../../net/akami/mask/alteration/CalculationCanceller.html" title="interface in net.akami.mask.alteration"><code>CalculationCanceller</code></a> added by default in the library that avoids calculation repetitions.
 <br>
 Depending on the need of the user, it might be useful or not. The class stores expressions previously calculated at
 runtime, to reduce the execution time if one single calculation is performed several times.
 <br>
 All binary handlers contain a calculation cache by default. If you want to disable the cache, call <code>setCapacity(0)</code>.
 The reason why the cache might need to be disabled is that memory access to the HashMap can possibly be slower than
 certain calculations. If you are guaranteed that only small calculations will be performed, disable the cache.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Antoine Tran</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/akami/mask/alteration/CalculationCache.html#CalculationCache--">CalculationCache</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/akami/mask/alteration/CalculationCache.html#appliesTo-net.akami.mask.expression.Expression...-">appliesTo</a></span>(<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>...&nbsp;input)</code>
<div class="block">Checks a validity between the input given and the behavior of the current alteration.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/akami/mask/alteration/CalculationCache.html#getCapacity--">getCapacity</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/akami/mask/alteration/CalculationCache.html#priorityLevel--">priorityLevel</a></span>()</code>
<div class="block">Because several affections might want to affect a single input at the same time, the priority level
 method helps the handler deciding which affect will modify the input / cancel the calculation first.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/akami/mask/alteration/CalculationCache.html#push-java.lang.String-net.akami.mask.expression.Expression-">push</a></span>(java.lang.String&nbsp;initial,
    <a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>&nbsp;result)</code>
<div class="block">Adds a new merge into the HashMap.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/akami/mask/alteration/CalculationCache.html#resultIfCancelled-net.akami.mask.expression.Expression...-">resultIfCancelled</a></span>(<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>...&nbsp;input)</code>
<div class="block">Defines what merge must be returned instead of the initial calculation.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/akami/mask/alteration/CalculationCache.html#setCapacity-int-">setCapacity</a></span>(int&nbsp;capacity)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.net.akami.mask.alteration.CalculationAlteration">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;net.akami.mask.alteration.<a href="../../../../net/akami/mask/alteration/CalculationAlteration.html" title="interface in net.akami.mask.alteration">CalculationAlteration</a></h3>
<code><a href="../../../../net/akami/mask/alteration/CalculationAlteration.html#compareTo-net.akami.mask.alteration.CalculationAlteration-">compareTo</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CalculationCache--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CalculationCache</h4>
<pre>public&nbsp;CalculationCache()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="resultIfCancelled-net.akami.mask.expression.Expression...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resultIfCancelled</h4>
<pre>public&nbsp;<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>&nbsp;resultIfCancelled(<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>...&nbsp;input)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../net/akami/mask/alteration/CalculationCanceller.html#resultIfCancelled-T...-">CalculationCanceller</a></code></span></div>
<div class="block">Defines what merge must be returned instead of the initial calculation.
 <br>
 Note that no validity check must be done inside the method itself, since the <a href="../../../../net/akami/mask/alteration/CalculationAlteration.html#appliesTo-T...-"><code>CalculationAlteration.appliesTo(Object...)</code></a>
 method should already take care of that.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/akami/mask/alteration/CalculationCanceller.html#resultIfCancelled-T...-">resultIfCancelled</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/akami/mask/alteration/CalculationCanceller.html" title="interface in net.akami.mask.alteration">CalculationCanceller</a>&lt;<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the given input. Depending on the calculation, the getElementsSize of the array might change.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a merge that might be different or not than the merge that would have been computed without the
 intervention of the canceller.</dd>
</dl>
</li>
</ul>
<a name="appliesTo-net.akami.mask.expression.Expression...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appliesTo</h4>
<pre>public&nbsp;boolean&nbsp;appliesTo(<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>...&nbsp;input)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../net/akami/mask/alteration/CalculationAlteration.html#appliesTo-T...-">CalculationAlteration</a></code></span></div>
<div class="block">Checks a validity between the input given and the behavior of the current alteration.
 <br>
 The <code>appliesTo</code> method should be called by the handlers in order to determine if the current
 alteration can be applied to the given input. It avoids unexpected results if the "change nothing" behavior
 is not implemented by the alteration, and it can check whether a different merge must be returned, in case the affect is
 a canceller.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/akami/mask/alteration/CalculationAlteration.html#appliesTo-T...-">appliesTo</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/akami/mask/alteration/CalculationAlteration.html" title="interface in net.akami.mask.alteration">CalculationAlteration</a>&lt;<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the given input string that will be checked</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the given input can be modified or if the calculation can be cancelled</dd>
</dl>
</li>
</ul>
<a name="push-java.lang.String-net.akami.mask.expression.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>push</h4>
<pre>public&nbsp;void&nbsp;push(java.lang.String&nbsp;initial,
                 <a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>&nbsp;result)</pre>
<div class="block">Adds a new merge into the HashMap. Data should always be pushed using the same format, otherwise the key for a given
 input might not be detected, even though the calculation was already performed.
 If the cache is full, its size being specified with the <a href="../../../../net/akami/mask/alteration/CalculationCache.html#setCapacity-int-"><code>setCapacity(int)</code></a> method, the map will be cleared
 before entering any new data.
 <br>
 Regular <a href="../../../../net/akami/mask/handler/BinaryOperationHandler.html" title="class in net.akami.mask.handler"><code>BinaryOperationHandler</code></a>s use the following format :
 <br>

 <pre>
 Initial : a|b
 Result  : computed merge of a "something" b

 -| Example |-
 Initial : 3|2
 Result  : 5
 </pre>
 Because each handler has its own cache, there is no need to specify which operation sign a and b are linked by.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initial</code> - the input, computing a merge with a given operation</dd>
<dd><code>result</code> - the merge of the computed version of the input</dd>
</dl>
</li>
</ul>
<a name="priorityLevel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>priorityLevel</h4>
<pre>public&nbsp;float&nbsp;priorityLevel()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../net/akami/mask/alteration/CalculationAlteration.html#priorityLevel--">CalculationAlteration</a></code></span></div>
<div class="block">Because several affections might want to affect a single input at the same time, the priority level
 method helps the handler deciding which affect will modify the input / cancel the calculation first.
 <br>
 For instance, the "let fraction or divide" cancelling affect will have a greater priority level than the
 cache canceller, because even if the merge of the operation has already been calculated, it is up to the
 "let fraction or divide" cancelling effect to determine whether this merge is wanted or not.
 <br>
 A float instead of an integer is used, so that the user is guaranteed to be able to fit as many affections as
 he wants between others already existing affections. If an integer was being used, only 3 affections could fit
 between a level 1 priority alteration and a level 5 priority alteration.
 <br>
 Note that all affections that are both cancellable and input modifiers should logically check for cancelling first.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/akami/mask/alteration/CalculationAlteration.html#priorityLevel--">priorityLevel</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/akami/mask/alteration/CalculationAlteration.html" title="interface in net.akami.mask.alteration">CalculationAlteration</a>&lt;<a href="../../../../net/akami/mask/expression/Expression.html" title="class in net.akami.mask.expression">Expression</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the priority of the alteration. Between two different affections, the one with the greatest priority level
         will take effect first. If two affections of the same type have the same priority level (which should not happen),
         one will be randomly taking effect first.</dd>
</dl>
</li>
</ul>
<a name="getCapacity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCapacity</h4>
<pre>public&nbsp;int&nbsp;getCapacity()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the capacity of the cache</dd>
</dl>
</li>
</ul>
<a name="setCapacity-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setCapacity</h4>
<pre>public&nbsp;void&nbsp;setCapacity(int&nbsp;capacity)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>capacity</code> - a new capacity for the cache</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/akami/mask/alteration/CalculationAlteration.html" title="interface in net.akami.mask.alteration"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/akami/mask/alteration/CalculationCanceller.html" title="interface in net.akami.mask.alteration"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/akami/mask/alteration/CalculationCache.html" target="_top">Frames</a></li>
<li><a href="CalculationCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
